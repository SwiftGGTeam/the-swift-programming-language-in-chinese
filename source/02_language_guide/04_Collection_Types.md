# é›†åˆç±»å‹

Swift è¯­è¨€æä¾›æ•°ç»„ï¼ˆArrayï¼‰ã€é›†åˆï¼ˆSetï¼‰å’Œå­—å…¸ï¼ˆDictionaryï¼‰ä¸‰ç§åŸºæœ¬çš„*é›†åˆç±»å‹*ç”¨æ¥å­˜å‚¨é›†åˆæ•°æ®ã€‚æ•°ç»„æ˜¯æœ‰åºæ•°æ®çš„é›†ã€‚é›†åˆæ˜¯æ— åºæ— é‡å¤æ•°æ®çš„é›†ã€‚å­—å…¸æ˜¯æ— åºçš„é”®å€¼å¯¹çš„é›†ã€‚

![](https://docs.swift.org/swift-book/_images/CollectionTypes_intro_2x.png)

Swift ä¸­çš„æ•°ç»„ã€é›†åˆå’Œå­—å…¸å¿…é¡»æ˜ç¡®å…¶ä¸­ä¿å­˜çš„é”®å’Œå€¼ç±»å‹ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…æ’å…¥ä¸€ä¸ªé”™è¯¯æ•°æ®ç±»å‹çš„å€¼ã€‚åŒç†ï¼Œå¯¹äºè·å–åˆ°çš„å€¼ä½ ä¹Ÿå¯ä»¥æ”¾å¿ƒï¼Œå…¶æ•°æ®ç±»å‹æ˜¯ç¡®å®šçš„ã€‚

> æ³¨æ„
> 
> Swift çš„æ•°ç»„ã€é›†åˆå’Œå­—å…¸ç±»å‹è¢«å®ç°ä¸º*æ³›å‹é›†åˆ*ã€‚æ›´å¤šå…³äºæ³›å‹ç±»å‹å’Œé›†åˆï¼Œå‚è§ [æ³›å‹](./22_Generics.md) ç« èŠ‚ã€‚

## é›†åˆçš„å¯å˜æ€§ {#mutability-of-collections}

å¦‚æœåˆ›å»ºä¸€ä¸ªæ•°ç»„ã€é›†åˆæˆ–å­—å…¸å¹¶ä¸”æŠŠå®ƒåˆ†é…æˆä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªé›†åˆå°†ä¼šæ˜¯*å¯å˜çš„*ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨åˆ›å»ºä¹‹åæ·»åŠ ã€ä¿®æ”¹æˆ–è€…åˆ é™¤æ•°æ®é¡¹ã€‚å¦‚æœæŠŠæ•°ç»„ã€é›†åˆæˆ–å­—å…¸åˆ†é…æˆå¸¸é‡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯*ä¸å¯å˜çš„*ï¼Œå®ƒçš„å¤§å°å’Œå†…å®¹éƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚

> æ³¨æ„
> 
> åœ¨ä¸éœ€è¦æ”¹å˜é›†åˆçš„æ—¶å€™åˆ›å»ºä¸å¯å˜é›†åˆæ˜¯å¾ˆå¥½çš„å®è·µã€‚è¿™æ ·åšä¾¿äºä½ ç†è§£è‡ªå·±çš„ä»£ç ï¼Œä¹Ÿèƒ½è®© Swift ç¼–è¯‘å™¨ä¼˜åŒ–é›†åˆçš„æ€§èƒ½ã€‚

## æ•°ç»„ï¼ˆArraysï¼‰ {#arrays}

*æ•°ç»„*ä½¿ç”¨æœ‰åºåˆ—è¡¨å­˜å‚¨åŒä¸€ç±»å‹çš„å¤šä¸ªå€¼ã€‚ç›¸åŒçš„å€¼å¯ä»¥å¤šæ¬¡å‡ºç°åœ¨ä¸€ä¸ªæ•°ç»„çš„ä¸åŒä½ç½®ä¸­ã€‚

> æ³¨æ„
> 
> Swift çš„ `Array` ç±»å‹è¢«æ¡¥æ¥åˆ° Foundation ä¸­çš„ `NSArray` ç±»ã€‚  
> 
> æ›´å¤šå…³äºåœ¨ Foundation å’Œ Cocoa ä¸­ä½¿ç”¨ `Array` çš„ä¿¡æ¯ï¼Œå‚è§ [Bridging Between Array and NSArray](https://developer.apple.com/documentation/swift/array#2846730)ã€‚

### æ•°ç»„çš„ç®€å•è¯­æ³• {#array-type-shorthand-syntax}

Swift ä¸­æ•°ç»„çš„å®Œæ•´å†™æ³•ä¸º `Array<Element>`ï¼Œå…¶ä¸­ `Element` æ˜¯è¿™ä¸ªæ•°ç»„ä¸­å”¯ä¸€å…è®¸å­˜åœ¨çš„æ•°æ®ç±»å‹ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨åƒ `[Element]` è¿™æ ·çš„ç®€å•è¯­æ³•ã€‚å°½ç®¡ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ¨èè¾ƒçŸ­çš„é‚£ç§ï¼Œè€Œä¸”åœ¨æœ¬æ–‡ä¸­éƒ½ä¼šä½¿ç”¨è¿™ç§å½¢å¼æ¥ä½¿ç”¨æ•°ç»„ã€‚

### åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ {#creating-an-empty-array}

ä½ å¯ä»¥ä½¿ç”¨æ„é€ è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç”±ç‰¹å®šæ•°æ®ç±»å‹æ„æˆçš„ç©ºæ•°ç»„ï¼š

```swift
var someInts = [Int]()
print("someInts is of type [Int] with \(someInts.count) items.")
// æ‰“å°â€œsomeInts is of type [Int] with 0 items.â€
```

æ³¨æ„ï¼Œé€šè¿‡æ„é€ å‡½æ•°çš„ç±»å‹ï¼Œ`someInts` çš„å€¼ç±»å‹è¢«æ¨æ–­ä¸º `[Int]`ã€‚

æˆ–è€…ï¼Œå¦‚æœä»£ç ä¸Šä¸‹æ–‡ä¸­å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸€ä¸ªå‡½æ•°å‚æ•°æˆ–è€…ä¸€ä¸ªå·²ç»å®šä¹‰å¥½ç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨ç©ºæ•°ç»„è¯­å¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œå®ƒçš„å†™æ³•å¾ˆç®€å•ï¼š`[]`ï¼ˆä¸€å¯¹ç©ºæ–¹æ‹¬å·ï¼‰ï¼š

```swift
someInts.append(3)
// someInts ç°åœ¨åŒ…å«ä¸€ä¸ª Int å€¼
someInts = []
// someInts ç°åœ¨æ˜¯ç©ºæ•°ç»„ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ [Int] ç±»å‹çš„ã€‚
```

### åˆ›å»ºä¸€ä¸ªå¸¦æœ‰é»˜è®¤å€¼çš„æ•°ç»„ {#creating-an-array-with-a-default-value}

Swift ä¸­çš„ `Array` ç±»å‹è¿˜æä¾›ä¸€ä¸ªå¯ä»¥åˆ›å»ºç‰¹å®šå¤§å°å¹¶ä¸”æ‰€æœ‰æ•°æ®éƒ½è¢«é»˜è®¤çš„æ„é€ æ–¹æ³•ã€‚å¯ä»¥æŠŠå‡†å¤‡åŠ å…¥æ–°æ•°ç»„çš„æ•°æ®é¡¹æ•°é‡ï¼ˆ`count`ï¼‰å’Œé€‚å½“ç±»å‹çš„åˆå§‹å€¼ï¼ˆ`repeating`ï¼‰ä¼ å…¥æ•°ç»„æ„é€ å‡½æ•°ï¼š

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles æ˜¯ä¸€ç§ [Double] æ•°ç»„ï¼Œç­‰ä»·äº [0.0, 0.0, 0.0]
```

### é€šè¿‡ä¸¤ä¸ªæ•°ç»„ç›¸åŠ åˆ›å»ºä¸€ä¸ªæ•°ç»„ {#creating-an-array-by-adding-two-arrays-together}

ä½ å¯ä»¥ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦ï¼ˆ`+`ï¼‰æ¥ç»„åˆä¸¤ä¸ªå·²å­˜åœ¨çš„ç›¸åŒç±»å‹æ•°ç»„ã€‚æ–°æ•°ç»„çš„æ•°æ®ç±»å‹ä¼šä»ä¸¤ä¸ªæ•°ç»„çš„æ•°æ®ç±»å‹ä¸­æ¨æ–­å‡ºæ¥ï¼š

```swift
var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles è¢«æ¨æ–­ä¸º [Double]ï¼Œç­‰ä»·äº [2.5, 2.5, 2.5]

var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles è¢«æ¨æ–­ä¸º [Double]ï¼Œç­‰ä»·äº [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```

### ç”¨æ•°ç»„å­—é¢é‡æ„é€ æ•°ç»„ {#creating-an-array-with-an-array-literals}

ä½ å¯ä»¥ä½¿ç”¨*æ•°ç»„å­—é¢é‡*æ¥è¿›è¡Œæ•°ç»„æ„é€ ï¼Œè¿™æ˜¯ä¸€ç§ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°å€¼æ„é€ æ•°ç»„çš„ç®€å•æ–¹æ³•ã€‚æ•°ç»„å­—é¢é‡æ˜¯ä¸€ç³»åˆ—ç”±é€—å·åˆ†å‰²å¹¶ç”±æ–¹æ‹¬å·åŒ…å«çš„æ•°å€¼ï¼š

`[value 1, value 2, value 3]`ã€‚

ä¸‹é¢è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªå«åš `shoppingList` å¹¶ä¸”å­˜å‚¨ `String` çš„æ•°ç»„ï¼š

```swift
var shoppingList: [String] = ["Eggs", "Milk"]
// shoppingList å·²ç»è¢«æ„é€ å¹¶ä¸”æ‹¥æœ‰ä¸¤ä¸ªåˆå§‹é¡¹ã€‚
```

`shoppingList` å˜é‡è¢«å£°æ˜ä¸ºâ€œå­—ç¬¦ä¸²å€¼ç±»å‹çš„æ•°ç»„â€œï¼Œè®°ä½œ `[String]`ã€‚å› ä¸ºè¿™ä¸ªæ•°ç»„è¢«è§„å®šåªæœ‰ `String` ä¸€ç§æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥åªæœ‰ `String` ç±»å‹å¯ä»¥åœ¨å…¶ä¸­è¢«å­˜å–ã€‚åœ¨è¿™é‡Œï¼Œ`shoppingList` æ•°ç»„ç”±ä¸¤ä¸ª `String` å€¼ï¼ˆ`"Eggs"` å’Œ `"Milk"`ï¼‰æ„é€ ï¼Œå¹¶ä¸”ç”±æ•°ç»„å­—é¢é‡å®šä¹‰ã€‚

> æ³¨æ„
> 
> `shoppingList` æ•°ç»„è¢«å£°æ˜ä¸ºå˜é‡ï¼ˆ`var` å…³é”®å­—åˆ›å»ºï¼‰è€Œä¸æ˜¯å¸¸é‡ï¼ˆ`let` åˆ›å»ºï¼‰æ˜¯å› ä¸ºä¹‹åä¼šæœ‰æ›´å¤šçš„æ•°æ®é¡¹è¢«æ’å…¥å…¶ä¸­ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­—é¢é‡ä»…ä»…åŒ…å«ä¸¤ä¸ª `String` å€¼ã€‚åŒ¹é…äº†è¯¥æ•°ç»„çš„å£°æ˜ï¼ˆåªèƒ½åŒ…å« `String` çš„æ•°ç»„ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥å°†è¿™ä¸ªå­—é¢é‡çš„èµ‹å€¼è¿‡ç¨‹çœ‹ä½œç”¨ä¸¤ä¸ªåˆå§‹é¡¹æ¥æ„é€  `shoppingList` çš„ä¸€ç§æ–¹å¼ã€‚

ç”±äº Swift çš„ç±»å‹æ¨æ–­æœºåˆ¶ï¼Œå½“ä½ ç”¨å­—é¢é‡æ„é€ æ‹¥æœ‰ç›¸åŒç±»å‹å€¼æ•°ç»„çš„æ—¶å€™ï¼Œä¸å¿…æŠŠæ•°ç»„çš„ç±»å‹å®šä¹‰æ¸…æ¥šã€‚`shoppingList` çš„æ„é€ ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š

```swift
var shoppingList = ["Eggs", "Milk"]
```

å› ä¸ºæ‰€æœ‰æ•°ç»„å­—é¢é‡ä¸­çš„å€¼éƒ½æ˜¯ç›¸åŒçš„ç±»å‹ï¼ŒSwift å¯ä»¥æ¨æ–­å‡º `[String]` æ˜¯ `shoppingList` ä¸­å˜é‡çš„æ­£ç¡®ç±»å‹ã€‚

### è®¿é—®å’Œä¿®æ”¹æ•°ç»„ {#accessing-and-modifying-an-array}

ä½ å¯ä»¥é€šè¿‡æ•°ç»„çš„æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹æ•°ç»„ï¼Œæˆ–è€…ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ã€‚

å¯ä»¥ä½¿ç”¨æ•°ç»„çš„åªè¯»å±æ€§ `count` æ¥è·å–æ•°ç»„ä¸­çš„æ•°æ®é¡¹æ•°é‡ï¼š

```swift
print("The shopping list contains \(shoppingList.count) items.")
// è¾“å‡ºâ€œThe shopping list contains 2 items.â€ï¼ˆè¿™ä¸ªæ•°ç»„æœ‰2ä¸ªé¡¹ï¼‰
```

ä½¿ç”¨å¸ƒå°”å±æ€§ `isEmpty` ä½œä¸ºä¸€ä¸ªç¼©å†™å½¢å¼å»æ£€æŸ¥ `count` å±æ€§æ˜¯å¦ä¸º `0`ï¼š

```swift
if shoppingList.isEmpty {
    print("The shopping list is empty.")
} else {
    print("The shopping list is not empty.")
}
// æ‰“å°â€œThe shopping list is not empty.â€ï¼ˆshoppinglist ä¸æ˜¯ç©ºçš„ï¼‰
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ `append(_:)` æ–¹æ³•åœ¨æ•°ç»„åé¢æ·»åŠ æ–°çš„æ•°æ®é¡¹ï¼š

```swift
shoppingList.append("Flour")
// shoppingList ç°åœ¨æœ‰3ä¸ªæ•°æ®é¡¹ï¼Œä¼¼ä¹æœ‰äººåœ¨æ‘Šç…é¥¼
```

é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ`+=`ï¼‰ç›´æ¥å°†å¦ä¸€ä¸ªç›¸åŒç±»å‹æ•°ç»„ä¸­çš„æ•°æ®æ·»åŠ åˆ°è¯¥æ•°ç»„åé¢ï¼š  

```swift
shoppingList += ["Baking Powder"]
// shoppingList ç°åœ¨æœ‰å››é¡¹äº†
shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList ç°åœ¨æœ‰ä¸ƒé¡¹äº†
```

å¯ä»¥ç›´æ¥ä½¿ç”¨*ä¸‹æ ‡è¯­æ³•*æ¥è·å–æ•°ç»„ä¸­çš„æ•°æ®é¡¹ï¼ŒæŠŠæ‰€éœ€è¦æ•°æ®é¡¹çš„ç´¢å¼•å€¼ç›´æ¥æ”¾åœ¨æ•°ç»„åç§°ä¹‹åçš„æ–¹æ‹¬å·ä¸­ï¼š

```swift
var firstItem = shoppingList[0]
// ç¬¬ä¸€é¡¹æ˜¯â€œEggsâ€
```

> æ³¨æ„
> 
> ç¬¬ä¸€é¡¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•å€¼æ˜¯ `0` è€Œä¸æ˜¯ `1`ã€‚ Swift ä¸­çš„æ•°ç»„ç´¢å¼•æ€»æ˜¯ä»é›¶å¼€å§‹ã€‚

ä½ ä¹Ÿå¯ä»¥ç”¨ä¸‹æ ‡æ¥æ”¹å˜æŸä¸ªæœ‰æ•ˆç´¢å¼•å€¼å¯¹åº”çš„æ•°æ®å€¼ï¼š

```swift
shoppingList[0] = "Six eggs"
// å…¶ä¸­çš„ç¬¬ä¸€é¡¹ç°åœ¨æ˜¯â€œSix eggsâ€è€Œä¸æ˜¯â€œEggsâ€
```

å½“ä½ ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ï¼Œæ‰€ä½¿ç”¨çš„ä¸‹æ ‡å¿…é¡»æ˜¯æœ‰æ•ˆçš„ã€‚ä¾‹å¦‚ï¼Œè¯•å›¾é€šè¿‡ `shoppingList[shoppingList.count] = "Salt"` åœ¨æ•°ç»„çš„æœ€åæ·»åŠ ä¸€é¡¹ï¼Œå°†äº§ç”Ÿä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚  

è¿˜å¯ä»¥åˆ©ç”¨ä¸‹æ ‡æ¥ä¸€æ¬¡æ”¹å˜ä¸€ç³»åˆ—æ•°æ®å€¼ï¼Œå³ä½¿æ–°æ•°æ®å’ŒåŸæœ‰æ•°æ®çš„æ•°é‡æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸‹é¢çš„ä¾‹å­æŠŠ `"Chocolate Spread"`ã€`"Cheese"` å’Œ `"Butter"` æ›¿æ¢ä¸º `"Bananas"` å’Œ `"Apples"`ï¼š

```swift
shoppingList[4...6] = ["Bananas", "Apples"]
// shoppingList ç°åœ¨æœ‰6é¡¹
```

é€šè¿‡è°ƒç”¨æ•°ç»„çš„ `insert(_:at:)` æ–¹æ³•åœ¨æŸä¸ªæŒ‡å®šç´¢å¼•å€¼ä¹‹å‰æ·»åŠ æ•°æ®é¡¹ï¼š

```swift
shoppingList.insert("Maple Syrup", at: 0)
// shoppingList ç°åœ¨æœ‰7é¡¹
// ç°åœ¨æ˜¯è¿™ä¸ªåˆ—è¡¨ä¸­çš„ç¬¬ä¸€é¡¹æ˜¯â€œMaple Syrupâ€
```

è¿™æ¬¡ `insert(_:at:)` æ–¹æ³•è°ƒç”¨æŠŠå€¼ä¸º `"Maple Syrup"` çš„æ–°æ•°æ®é¡¹æ’å…¥åˆ—è¡¨çš„æœ€å¼€å§‹ä½ç½®ï¼Œå¹¶ä¸”ä½¿ç”¨ `0` ä½œä¸ºç´¢å¼•å€¼ã€‚

ç±»ä¼¼çš„å¯ä»¥ä½¿ç”¨ `remove(at:)` æ–¹æ³•æ¥ç§»é™¤æ•°ç»„ä¸­çš„æŸä¸€é¡¹ã€‚è¿™ä¸ªæ–¹æ³•æŠŠæ•°ç»„åœ¨ç‰¹å®šç´¢å¼•å€¼ä¸­å­˜å‚¨çš„æ•°æ®é¡¹ç§»é™¤å¹¶ä¸”è¿”å›è¿™ä¸ªè¢«ç§»é™¤çš„æ•°æ®é¡¹ï¼ˆä¸éœ€è¦çš„æ—¶å€™å°±å¯ä»¥æ— è§†å®ƒï¼‰ï¼š

```swift
let mapleSyrup = shoppingList.remove(at: 0)
// ç´¢å¼•å€¼ä¸º0çš„æ•°æ®é¡¹è¢«ç§»é™¤
// shoppingList ç°åœ¨åªæœ‰6é¡¹ï¼Œè€Œä¸”ä¸åŒ…æ‹¬ Maple Syrup
// mapleSyrup å¸¸é‡çš„å€¼ç­‰äºè¢«ç§»é™¤æ•°æ®é¡¹â€œMaple Syrupâ€
```

> æ³¨æ„
> 
> å¦‚æœä½ è¯•å›¾é€šè¿‡è¶Šç•Œç´¢å¼•æ¥æ‰§è¡Œè®¿é—®æˆ–è€…ä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œä¼šå¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç´¢å¼•å€¼å’Œæ•°ç»„çš„ `count` å±æ€§è¿›è¡Œæ¯”è¾ƒæ¥åœ¨ä½¿ç”¨è¯¥ç´¢å¼•ä¹‹å‰æ£€éªŒå…¶æ˜¯å¦æœ‰æ•ˆã€‚é™¤äº†å½“ `count` ç­‰äº 0 æ—¶ï¼ˆè¯´æ˜è¿™æ˜¯ä¸ªç©ºæ•°ç»„ï¼‰ï¼Œæœ€å¤§ç´¢å¼•å€¼ä¸€ç›´æ˜¯ `count - 1`ï¼Œå› ä¸ºæ•°ç»„éƒ½æ˜¯é›¶èµ·ç´¢å¼•ã€‚

æ•°æ®é¡¹è¢«ç§»é™¤åæ•°ç»„ä¸­çš„ç©ºå‡ºé¡¹ä¼šè¢«è‡ªåŠ¨å¡«è¡¥ï¼Œæ‰€ä»¥ç°åœ¨ç´¢å¼•å€¼ä¸º `0` çš„æ•°æ®é¡¹çš„å€¼å†æ¬¡ç­‰äº `"Six eggs"`ï¼š

```swift
firstItem = shoppingList[0]
// firstItem ç°åœ¨ç­‰äºâ€œSix eggsâ€
```

å¦‚æœä½ åªæƒ³æŠŠæ•°ç»„ä¸­çš„æœ€åä¸€é¡¹ç§»é™¤ï¼Œå¯ä»¥ä½¿ç”¨ `removeLast()` æ–¹æ³•è€Œä¸æ˜¯ `remove(at:)` æ–¹æ³•æ¥é¿å…éœ€è¦è·å–æ•°ç»„çš„ `count` å±æ€§ã€‚å°±åƒåè€…ä¸€æ ·ï¼Œå‰è€…ä¹Ÿä¼šè¿”å›è¢«ç§»é™¤çš„æ•°æ®é¡¹ï¼š

```swift
let apples = shoppingList.removeLast()
// æ•°ç»„çš„æœ€åä¸€é¡¹è¢«ç§»é™¤äº†
// shoppingList ç°åœ¨åªæœ‰5é¡¹ï¼Œä¸åŒ…æ‹¬ Apples
// apples å¸¸é‡çš„å€¼ç°åœ¨ç­‰äºå­—ç¬¦ä¸²â€œApplesâ€
```

### æ•°ç»„çš„éå† {#iterating-over-an-array}

ä½ å¯ä»¥ä½¿ç”¨ `for-in` å¾ªç¯æ¥éå†æ•°ç»„ä¸­æ‰€æœ‰çš„æ•°æ®é¡¹ï¼š

```swift
for item in shoppingList {
    print(item)
}
// Six eggs
// Milk
// Flour
// Baking Powder
// Bananas
```

å¦‚æœåŒæ—¶éœ€è¦æ¯ä¸ªæ•°æ®é¡¹çš„å€¼å’Œç´¢å¼•å€¼ï¼Œå¯ä»¥ä½¿ç”¨ `enumerated()` æ–¹æ³•æ¥è¿›è¡Œæ•°ç»„éå†ã€‚`enumerated()` è¿”å›ä¸€ä¸ªç”±ç´¢å¼•å€¼å’Œæ•°æ®å€¼ç»„æˆçš„å…ƒç»„æ•°ç»„ã€‚ç´¢å¼•å€¼ä»é›¶å¼€å§‹ï¼Œå¹¶ä¸”æ¯æ¬¡å¢åŠ ä¸€ï¼›å¦‚æœæšä¸¾ä¸€æ•´ä¸ªæ•°ç»„ï¼Œç´¢å¼•å€¼å°†ä¼šå’Œæ•°æ®å€¼ä¸€ä¸€åŒ¹é…ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªå…ƒç»„åˆ†è§£æˆä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡æ¥è¿›è¡Œéå†ï¼š

```swift
for (index, value) in shoppingList.enumerated() {
    print("Item \(String(index + 1)): \(value)")
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
```

æ›´å¤šå…³äº `for-in` å¾ªç¯çš„ä»‹ç»è¯·å‚è§ [For å¾ªç¯](05_Control_Flow.html#for-loops)ã€‚

## é›†åˆï¼ˆSetsï¼‰ {#sets}

*é›†åˆ*ç”¨æ¥å­˜å‚¨ç›¸åŒç±»å‹å¹¶ä¸”æ²¡æœ‰ç¡®å®šé¡ºåºçš„å€¼ã€‚å½“é›†åˆå…ƒç´ é¡ºåºä¸é‡è¦æ—¶æˆ–è€…å¸Œæœ›ç¡®ä¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡æ—¶å¯ä»¥ä½¿ç”¨é›†åˆè€Œä¸æ˜¯æ•°ç»„ã€‚

> æ³¨æ„
> Swift çš„ `Set` ç±»å‹è¢«æ¡¥æ¥åˆ° Foundation ä¸­çš„ `NSSet` ç±»ã€‚
> 
> å…³äºä½¿ç”¨ Foundation å’Œ Cocoa ä¸­ `Set` çš„çŸ¥è¯†ï¼Œå‚è§ [Bridging Between Set and NSSet](https://developer.apple.com/documentation/swift/set#2845530)

### é›†åˆç±»å‹çš„å“ˆå¸Œå€¼ {#hash-values-for-set-types}

ä¸€ä¸ªç±»å‹ä¸ºäº†å­˜å‚¨åœ¨é›†åˆä¸­ï¼Œè¯¥ç±»å‹å¿…é¡»æ˜¯*å¯å“ˆå¸ŒåŒ–*çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥ç±»å‹å¿…é¡»æä¾›ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—å®ƒçš„*å“ˆå¸Œå€¼*ã€‚ä¸€ä¸ªå“ˆå¸Œå€¼æ˜¯ `Int` ç±»å‹çš„ï¼Œç›¸ç­‰çš„å¯¹è±¡å“ˆå¸Œå€¼å¿…é¡»ç›¸åŒï¼Œæ¯”å¦‚ `a == b`,å› æ­¤å¿…é¡» `a.hashValue == b.hashValue`ã€‚

Swift çš„æ‰€æœ‰åŸºæœ¬ç±»å‹ï¼ˆæ¯”å¦‚ `String`ã€`Int`ã€`Double` å’Œ `Bool`ï¼‰é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸ŒåŒ–çš„ï¼Œå¯ä»¥ä½œä¸ºé›†åˆå€¼çš„ç±»å‹æˆ–è€…å­—å…¸é”®çš„ç±»å‹ã€‚æ²¡æœ‰å…³è”å€¼çš„æšä¸¾æˆå‘˜å€¼ï¼ˆåœ¨ [æšä¸¾](./08_Enumerations.md) æœ‰è®²è¿°ï¼‰é»˜è®¤ä¹Ÿæ˜¯å¯å“ˆå¸ŒåŒ–çš„ã€‚

> æ³¨æ„
> 
> ä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹ä½œä¸ºé›†åˆå€¼çš„ç±»å‹æˆ–è€…æ˜¯å­—å…¸é”®çš„ç±»å‹ï¼Œä½†éœ€è¦ä½¿è‡ªå®šä¹‰ç±»å‹éµå¾ª Swift æ ‡å‡†åº“ä¸­çš„ `Hashable` åè®®ã€‚éµå¾ª `Hashable` åè®®çš„ç±»å‹éœ€è¦æä¾›ä¸€ä¸ªç±»å‹ä¸º `Int` çš„å¯è¯»å±æ€§ `hashValue`ã€‚ç”±ç±»å‹çš„ `hashValue` å±æ€§è¿”å›çš„å€¼ä¸éœ€è¦åœ¨åŒä¸€ç¨‹åºçš„ä¸åŒæ‰§è¡Œå‘¨æœŸæˆ–è€…ä¸åŒç¨‹åºä¹‹é—´ä¿æŒç›¸åŒã€‚
> 
> å› ä¸º `Hashable` åè®®éµå¾ª `Equatable` åè®®ï¼Œæ‰€ä»¥éµå¾ªè¯¥åè®®çš„ç±»å‹ä¹Ÿå¿…é¡»æä¾›ä¸€ä¸ªâ€œæ˜¯å¦ç›¸ç­‰â€è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰çš„å®ç°ã€‚è¿™ä¸ª `Equatable` åè®®è¦æ±‚ä»»ä½•éµå¾ª `==` å®ç°çš„å®ä¾‹é—´éƒ½æ˜¯ä¸€ç§ç›¸ç­‰çš„å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº `a,b,c` ä¸‰ä¸ªå€¼æ¥è¯´ï¼Œ`==` çš„å®ç°å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸‰ç§æƒ…å†µï¼š

> * `a == a`(è‡ªåæ€§)
> * `a == b` æ„å‘³ç€ `b == a`(å¯¹ç§°æ€§)
> * `a == b && b == c` æ„å‘³ç€ `a == c`(ä¼ é€’æ€§)
>
> å…³äºéµå¾ªåè®®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹ [åè®®](./21_Protocols.md)ã€‚

### é›†åˆç±»å‹è¯­æ³• {#set-type-syntax}

Swift ä¸­çš„é›†åˆç±»å‹è¢«å†™ä¸º `Set<Element>`ï¼Œè¿™é‡Œçš„ `Element` è¡¨ç¤ºé›†åˆä¸­å…è®¸å­˜å‚¨çš„ç±»å‹ã€‚å’Œæ•°ç»„ä¸åŒçš„æ˜¯ï¼Œé›†åˆæ²¡æœ‰ç­‰ä»·çš„ç®€åŒ–å½¢å¼ã€‚

### åˆ›å»ºå’Œæ„é€ ä¸€ä¸ªç©ºçš„é›†åˆ {#creating-and-initalizing-an-empty-set}

ä½ å¯ä»¥é€šè¿‡æ„é€ å™¨è¯­æ³•åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„ç©ºé›†åˆï¼š

```swift
var letters = Set<Character>()
print("letters is of type Set<Character> with \(letters.count) items.")
// æ‰“å°â€œletters is of type Set<Character> with 0 items.â€
```

> æ³¨æ„
> 
> é€šè¿‡æ„é€ å™¨ï¼Œè¿™é‡Œ `letters` å˜é‡çš„ç±»å‹è¢«æ¨æ–­ä¸º `Set<Character>`ã€‚

æ­¤å¤–ï¼Œå¦‚æœä¸Šä¸‹æ–‡æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚ä½œä¸ºå‡½æ•°çš„å‚æ•°æˆ–è€…å·²çŸ¥ç±»å‹çš„å˜é‡æˆ–å¸¸é‡ï¼Œä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªç©ºçš„æ•°ç»„å­—é¢é‡åˆ›å»ºä¸€ä¸ªç©ºçš„é›†åˆï¼š

```swift
letters.insert("a")
// letters ç°åœ¨å«æœ‰1ä¸ª Character ç±»å‹çš„å€¼
letters = []
// letters ç°åœ¨æ˜¯ä¸€ä¸ªç©ºçš„ Setï¼Œä½†æ˜¯å®ƒä¾ç„¶æ˜¯ Set<Character> ç±»å‹
```

### ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºé›†åˆ {#creating-a-set-with-an-array-literal}

ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥æ„é€ é›†åˆï¼Œç›¸å½“äºä¸€ç§ç®€åŒ–çš„å½¢å¼å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ä½œä¸ºé›†åˆå…ƒç´ ã€‚

ä¸‹é¢çš„ä¾‹å­åˆ›å»ºä¸€ä¸ªç§°ä¹‹ä¸º `favoriteGenres` çš„é›†åˆæ¥å­˜å‚¨ `String` ç±»å‹çš„å€¼ï¼š

```swift
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres è¢«æ„é€ æˆå«æœ‰ä¸‰ä¸ªåˆå§‹å€¼çš„é›†åˆ
```

è¿™ä¸ª `favoriteGenres` å˜é‡è¢«å£°æ˜ä¸ºâ€œä¸€ä¸ª `String` å€¼çš„é›†åˆâ€ï¼Œå†™ä¸º `Set<String>`ã€‚ç”±äºè¿™ä¸ªç‰¹å®šé›†åˆæŒ‡å®šäº†å€¼ä¸º `String` ç±»å‹ï¼Œæ‰€ä»¥å®ƒ*åª*å…è®¸å­˜å‚¨ `String` ç±»å‹å€¼ã€‚è¿™é‡Œçš„ `favoriteGenres` å˜é‡æœ‰ä¸‰ä¸ª `String` ç±»å‹çš„åˆå§‹å€¼ï¼ˆ`"Rock"`ï¼Œ`"Classical"` å’Œ `"Hip hop"`ï¼‰ï¼Œä»¥æ•°ç»„å­—é¢é‡çš„å½¢å¼ä¹¦å†™ã€‚

> æ³¨æ„
> 
> `favoriteGenres` è¢«å£°æ˜ä¸ºä¸€ä¸ªå˜é‡ï¼ˆæ‹¥æœ‰ `var` æ ‡ç¤ºç¬¦ï¼‰è€Œä¸æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ˆæ‹¥æœ‰ `let` æ ‡ç¤ºç¬¦ï¼‰,å› ä¸ºå®ƒé‡Œé¢çš„å…ƒç´ å°†ä¼šåœ¨ä¹‹åçš„ä¾‹å­ä¸­è¢«å¢åŠ æˆ–è€…ç§»é™¤ã€‚

ä¸€ä¸ªé›†åˆç±»å‹ä¸èƒ½ä»æ•°ç»„å­—é¢é‡ä¸­è¢«ç›´æ¥æ¨æ–­å‡ºæ¥ï¼Œå› æ­¤ `Set` ç±»å‹å¿…é¡»æ˜¾å¼å£°æ˜ã€‚ç„¶è€Œï¼Œç”±äº Swift çš„ç±»å‹æ¨æ–­åŠŸèƒ½ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ªæ•°ç»„å­—é¢é‡æ„é€ ä¸€ä¸ªé›†åˆå¹¶ä¸”ä¸è¯¥æ•°ç»„å­—é¢é‡ä¸­çš„æ‰€æœ‰å…ƒç´ ç±»å‹ç›¸åŒï¼Œé‚£ä¹ˆæ— é¡»å†™å‡ºé›†åˆçš„å…·ä½“ç±»å‹ã€‚`favoriteGenres` çš„æ„é€ å½¢å¼å¯ä»¥é‡‡ç”¨ç®€åŒ–çš„æ–¹å¼ä»£æ›¿ï¼š

```swift
var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```

ç”±äºæ•°ç»„å­—é¢é‡ä¸­çš„æ‰€æœ‰å…ƒç´ ç±»å‹ç›¸åŒï¼ŒSwift å¯ä»¥æ¨æ–­å‡º `Set<String>` ä½œä¸º `favoriteGenres` å˜é‡çš„æ­£ç¡®ç±»å‹ã€‚

### è®¿é—®å’Œä¿®æ”¹ä¸€ä¸ªé›†åˆ {#accesing-and-modifying-a-set}

ä½ å¯ä»¥é€šè¿‡é›†åˆçš„å±æ€§å’Œæ–¹æ³•æ¥å¯¹å…¶è¿›è¡Œè®¿é—®å’Œä¿®æ”¹ã€‚

ä¸ºäº†è·å–ä¸€ä¸ªé›†åˆä¸­å…ƒç´ çš„æ•°é‡ï¼Œå¯ä»¥ä½¿ç”¨å…¶åªè¯»å±æ€§ `count`ï¼š

```swift
print("I have \(favoriteGenres.count) favorite music genres.")
// æ‰“å°â€œI have 3 favorite music genres.â€
```

ä½¿ç”¨å¸ƒå°”å±æ€§ `isEmpty` ä½œä¸ºä¸€ä¸ªç¼©å†™å½¢å¼å»æ£€æŸ¥ `count` å±æ€§æ˜¯å¦ä¸º `0`ï¼š

```swift
if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}
// æ‰“å°â€œI have particular music preferences.â€
```

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨é›†åˆçš„ `insert(_:)` æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼š

```swift
favoriteGenres.insert("Jazz")
// favoriteGenres ç°åœ¨åŒ…å«4ä¸ªå…ƒç´ 
```

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨é›†åˆçš„ `remove(_:)` æ–¹æ³•å»åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒæ˜¯è¯¥é›†åˆçš„ä¸€ä¸ªå…ƒç´ åˆ™åˆ é™¤å®ƒå¹¶ä¸”è¿”å›å®ƒçš„å€¼ï¼Œè‹¥è¯¥é›†åˆä¸åŒ…å«å®ƒï¼Œåˆ™è¿”å› `nil`ã€‚å¦å¤–ï¼Œé›†åˆå¯ä»¥é€šè¿‡ `removeAll()` æ–¹æ³•åˆ é™¤æ‰€æœ‰å…ƒç´ ã€‚

```swift
if let removedGenre = favoriteGenres.remove("Rock") {
    print("\(removedGenre)? I'm over it.")
} else {
    print("I never much cared for that.")
}
// æ‰“å°â€œRock? I'm over it.â€
```

ä½¿ç”¨ `contains(_:)` æ–¹æ³•å»æ£€æŸ¥é›†åˆä¸­æ˜¯å¦åŒ…å«ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼š

```swift
if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}
// æ‰“å°â€œIt's too funky in here.â€
```

### éå†ä¸€ä¸ªé›†åˆ {#iterating-over-a-set}

ä½ å¯ä»¥åœ¨ä¸€ä¸ª `for-in` å¾ªç¯ä¸­éå†ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å€¼ã€‚

```swift
for genre in favoriteGenres {
    print("\(genre)")
}
// Classical
// Jazz
// Hip hop
```

æ›´å¤šå…³äº `for-in` å¾ªç¯çš„ä¿¡æ¯ï¼Œå‚è§ [For å¾ªç¯](./05_Control_Flow.md#for-loops)ã€‚

Swift çš„ `Set` ç±»å‹æ²¡æœ‰ç¡®å®šçš„é¡ºåºï¼Œä¸ºäº†æŒ‰ç…§ç‰¹å®šé¡ºåºæ¥éå†ä¸€ä¸ªé›†åˆä¸­çš„å€¼å¯ä»¥ä½¿ç”¨ `sorted()` æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å…ƒç´ æ’åˆ—é¡ºåºç”±æ“ä½œç¬¦ `<` å¯¹å…ƒç´ è¿›è¡Œæ¯”è¾ƒçš„ç»“æœæ¥ç¡®å®šã€‚

```swift
for genre in favoriteGenres.sorted() {
    print("\(genre)")
}
// Classical
// Hip hop
// Jazz
```

## é›†åˆæ“ä½œ {#performing-set-operations}

ä½ å¯ä»¥é«˜æ•ˆåœ°å®Œæˆé›†åˆçš„ä¸€äº›åŸºæœ¬æ“ä½œï¼Œæ¯”å¦‚æŠŠä¸¤ä¸ªé›†åˆç»„åˆåˆ°ä¸€èµ·ï¼Œåˆ¤æ–­ä¸¤ä¸ªé›†åˆå…±æœ‰å…ƒç´ ï¼Œæˆ–è€…åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦å…¨åŒ…å«ï¼Œéƒ¨åˆ†åŒ…å«æˆ–è€…ä¸ç›¸äº¤ã€‚

### åŸºæœ¬é›†åˆæ“ä½œ {#fundamental-set-operations}

ä¸‹é¢çš„æ’å›¾æè¿°äº†ä¸¤ä¸ªé›†åˆ `a` å’Œ `b`ï¼Œä»¥åŠé€šè¿‡é˜´å½±éƒ¨åˆ†çš„åŒºåŸŸæ˜¾ç¤ºé›†åˆå„ç§æ“ä½œçš„ç»“æœã€‚

![](https://docs.swift.org/swift-book/_images/setVennDiagram_2x.png)

* ä½¿ç”¨ `intersection(_:)` æ–¹æ³•æ ¹æ®ä¸¤ä¸ªé›†åˆçš„äº¤é›†åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚
* ä½¿ç”¨ `symmetricDifference(_:)` æ–¹æ³•æ ¹æ®ä¸¤ä¸ªé›†åˆä¸ç›¸äº¤çš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚
* ä½¿ç”¨ `union(_:)` æ–¹æ³•æ ¹æ®ä¸¤ä¸ªé›†åˆçš„æ‰€æœ‰å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚
* ä½¿ç”¨ `subtracting(_:)` æ–¹æ³•æ ¹æ®ä¸åœ¨å¦ä¸€ä¸ªé›†åˆä¸­çš„å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆã€‚

```swift
let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
```

### é›†åˆæˆå‘˜å…³ç³»å’Œç›¸ç­‰ {#set-membership-and-equality}

ä¸‹é¢çš„æ’å›¾æè¿°äº†ä¸‰ä¸ªé›†åˆ `a`ã€`b` å’Œ `c`ï¼Œä»¥åŠé€šè¿‡é‡å åŒºåŸŸè¡¨è¿°é›†åˆé—´å…±äº«çš„å…ƒç´ ã€‚é›†åˆ `a` æ˜¯é›†åˆ `b` çš„*çˆ¶é›†åˆ*ï¼Œå› ä¸º `a` åŒ…å«äº† `b` ä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚ç›¸åçš„ï¼Œé›†åˆ `b` æ˜¯é›†åˆ `a` çš„*å­é›†åˆ*ï¼Œå› ä¸ºå±äº `b` çš„å…ƒç´ ä¹Ÿè¢« `a` åŒ…å«ã€‚é›†åˆ `b` å’Œé›†åˆ `c` æ˜¯*ä¸ç›¸äº¤*çš„ï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´æ²¡æœ‰å…±åŒçš„å…ƒç´ ã€‚

![](https://docs.swift.org/swift-book/_images/setEulerDiagram_2x.png)

* ä½¿ç”¨â€œæ˜¯å¦ç›¸ç­‰â€è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆåŒ…å«çš„å€¼æ˜¯å¦å…¨éƒ¨ç›¸åŒã€‚
* ä½¿ç”¨ `isSubset(of:)` æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å€¼æ˜¯å¦ä¹Ÿè¢«åŒ…å«åœ¨å¦å¤–ä¸€ä¸ªé›†åˆä¸­ã€‚
* ä½¿ç”¨ `isSuperset(of:)` æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­æ‰€æœ‰çš„å€¼ã€‚
* ä½¿ç”¨ `isStrictSubset(of:)` æˆ–è€… `isStrictSuperset(of:)` æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ªé›†åˆçš„å­é›†åˆæˆ–è€…çˆ¶é›†åˆå¹¶ä¸”ä¸¤ä¸ªé›†åˆå¹¶ä¸ç›¸ç­‰ã€‚
* ä½¿ç”¨ `isDisjoint(with:)` æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ä¸å«æœ‰ç›¸åŒçš„å€¼ï¼ˆæ˜¯å¦æ²¡æœ‰äº¤é›†ï¼‰ã€‚

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
```

## å­—å…¸ {#dictionaries}

*å­—å…¸*æ˜¯ä¸€ç§æ— åºçš„é›†åˆï¼Œå®ƒå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ä¹‹é—´çš„å…³ç³»ï¼Œå…¶æ‰€æœ‰é”®çš„å€¼éœ€è¦æ˜¯ç›¸åŒçš„ç±»å‹ï¼Œæ‰€æœ‰å€¼çš„ç±»å‹ä¹Ÿéœ€è¦ç›¸åŒã€‚æ¯ä¸ªå€¼ï¼ˆvalueï¼‰éƒ½å…³è”å”¯ä¸€çš„*é”®*ï¼ˆkeyï¼‰ï¼Œé”®ä½œä¸ºå­—å…¸ä¸­è¿™ä¸ªå€¼æ•°æ®çš„æ ‡è¯†ç¬¦ã€‚å’Œæ•°ç»„ä¸­çš„æ•°æ®é¡¹ä¸åŒï¼Œå­—å…¸ä¸­çš„æ•°æ®é¡¹å¹¶æ²¡æœ‰å…·ä½“é¡ºåºã€‚ä½ åœ¨éœ€è¦é€šè¿‡æ ‡è¯†ç¬¦ï¼ˆé”®ï¼‰è®¿é—®æ•°æ®çš„æ—¶å€™ä½¿ç”¨å­—å…¸ï¼Œè¿™ç§æ–¹æ³•å¾ˆå¤§ç¨‹åº¦ä¸Šå’Œåœ¨ç°å®ä¸–ç•Œä¸­ä½¿ç”¨å­—å…¸æŸ¥å­—ä¹‰çš„æ–¹æ³•ä¸€æ ·ã€‚

> æ³¨æ„
> 
> Swift çš„ `Dictionary` ç±»å‹è¢«æ¡¥æ¥åˆ° Foundation çš„ `NSDictionary` ç±»ã€‚
> 
> æ›´å¤šå…³äºåœ¨ Foundation å’Œ Cocoa ä¸­ä½¿ç”¨ `Dictionary` ç±»å‹çš„ä¿¡æ¯ï¼Œå‚è§ [Bridging Between Dictionary and NSDictionary](https://developer.apple.com/documentation/swift/dictionary#2846239)ã€‚

### å­—å…¸ç±»å‹ç®€åŒ–è¯­æ³• {#dictionary-type-shorthand-syntax}

Swift çš„å­—å…¸ä½¿ç”¨ `Dictionary<Key, Value>` å®šä¹‰ï¼Œå…¶ä¸­ `Key` æ˜¯ä¸€ç§å¯ä»¥åœ¨å­—å…¸ä¸­è¢«ç”¨ä½œé”®çš„ç±»å‹ï¼Œ`Value` æ˜¯å­—å…¸ä¸­å¯¹åº”äºè¿™äº›é”®æ‰€å­˜å‚¨å€¼çš„æ•°æ®ç±»å‹ã€‚

> æ³¨æ„
> 
> ä¸€ä¸ªå­—å…¸çš„ `Key` ç±»å‹å¿…é¡»éµå¾ª `Hashable` åè®®ï¼Œå°±åƒ `Set` çš„å€¼ç±»å‹ã€‚

ä½ ä¹Ÿå¯ä»¥ç”¨ `[Key: Value]` è¿™æ ·ç®€åŒ–çš„å½¢å¼å»è¡¨ç¤ºå­—å…¸ç±»å‹ã€‚è™½ç„¶è¿™ä¸¤ç§å½¢å¼åŠŸèƒ½ä¸Šç›¸åŒï¼Œä½†æ˜¯åè€…æ˜¯é¦–é€‰ï¼Œå¹¶ä¸”æœ¬æ•™ç¨‹ä¸­æ¶‰åŠåˆ°å­—å…¸ç±»å‹æ—¶é€šç¯‡é‡‡ç”¨åè€…ã€‚

### åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ {#creating-an-empty-dictionary}

ä½ å¯ä»¥åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨æ„é€ è¯­æ³•åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰ç¡®å®šç±»å‹çš„ç©ºå­—å…¸ï¼š

```swift
var namesOfIntegers = [Int: String]()
// namesOfIntegers æ˜¯ä¸€ä¸ªç©ºçš„ [Int: String] å­—å…¸
```

è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ª `[Int: String]` ç±»å‹çš„ç©ºå­—å…¸æ¥å‚¨å­˜æ•´æ•°çš„è‹±è¯­å‘½åã€‚å®ƒçš„é”®æ˜¯ `Int` å‹ï¼Œå€¼æ˜¯ `String` å‹ã€‚

å¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ç©ºå­—å…¸å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼Œè®°ä½œ `[:]` ï¼ˆä¸€å¯¹æ–¹æ‹¬å·ä¸­æ”¾ä¸€ä¸ªå†’å·ï¼‰ï¼š

```swift
namesOfIntegers[16] = "sixteen"
// namesOfIntegers ç°åœ¨åŒ…å«ä¸€ä¸ªé”®å€¼å¯¹
namesOfIntegers = [:]
// namesOfIntegers åˆæˆä¸ºäº†ä¸€ä¸ª [Int: String] ç±»å‹çš„ç©ºå­—å…¸
```

### ç”¨å­—å…¸å­—é¢é‡åˆ›å»ºå­—å…¸ {#creating-a-dictionary-with-a-dictionary-literal}

ä½ å¯ä»¥ä½¿ç”¨*å­—å…¸å­—é¢é‡*æ¥æ„é€ å­—å…¸ï¼Œè¿™å’Œåˆšæ‰ä»‹ç»è¿‡çš„æ•°ç»„å­—é¢é‡æ‹¥æœ‰ç›¸ä¼¼è¯­æ³•ã€‚å­—å…¸å­—é¢é‡æ˜¯ä¸€ç§å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹å†™ä½œ `Dictionary` é›†åˆçš„å¿«æ·é€”å¾„ã€‚

*ä¸€ä¸ªé”®å€¼å¯¹*æ˜¯ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼çš„ç»“åˆä½“ã€‚åœ¨å­—å…¸å­—é¢é‡ä¸­ï¼Œæ¯ä¸€ä¸ªé”®å€¼å¯¹çš„é”®å’Œå€¼éƒ½ç”±å†’å·åˆ†å‰²ã€‚è¿™äº›é”®å€¼å¯¹æ„æˆä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­è¿™äº›é”®å€¼å¯¹ç”±é€—å·åˆ†å‰²ã€å¹¶æ•´ä½“è¢«åŒ…è£¹åœ¨ä¸€å¯¹æ–¹æ‹¬å·ä¸­ï¼š

```swift
[key 1: value 1, key 2: value 2, key 3: value 3]
```

ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªå­˜å‚¨å›½é™…æœºåœºåç§°çš„å­—å…¸ã€‚åœ¨è¿™ä¸ªå­—å…¸ä¸­é”®æ˜¯ä¸‰ä¸ªå­—æ¯çš„å›½é™…èˆªç©ºè¿è¾“ç›¸å…³ä»£ç ï¼Œå€¼æ˜¯æœºåœºåç§°ï¼š

```swift
var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

`airports` å­—å…¸è¢«å£°æ˜ä¸ºä¸€ç§ `[String: String]` ç±»å‹ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªå­—å…¸çš„é”®å’Œå€¼éƒ½æ˜¯ `String` ç±»å‹ã€‚

> æ³¨æ„
> 
> `airports` å­—å…¸è¢«å£°æ˜ä¸ºå˜é‡ï¼ˆç”¨ `var` å…³é”®å­—ï¼‰è€Œä¸æ˜¯å¸¸é‡ï¼ˆç”¨ `let` å…³é”®å­—ï¼‰å› ä¸ºåé¢ä¼šæœ‰æ›´å¤šçš„æœºåœºä¿¡æ¯è¢«æ·»åŠ åˆ°è¿™ä¸ªå­—å…¸ä¸­ã€‚

`airports` å­—å…¸ä½¿ç”¨å­—å…¸å­—é¢é‡åˆå§‹åŒ–ï¼ŒåŒ…å«ä¸¤ä¸ªé”®å€¼å¯¹ã€‚ç¬¬ä¸€å¯¹çš„é”®æ˜¯ `YYZ`ï¼Œå€¼æ˜¯ `Toronto Pearson`ã€‚ç¬¬äºŒå¯¹çš„é”®æ˜¯ `DUB`ï¼Œå€¼æ˜¯ `Dublin`ã€‚

è¿™ä¸ªå­—å…¸è¯­å¥åŒ…å«äº†ä¸¤ä¸ª `String: String` ç±»å‹çš„é”®å€¼å¯¹ã€‚å®ƒä»¬å¯¹åº” `airports` å˜é‡å£°æ˜çš„ç±»å‹ï¼ˆä¸€ä¸ªåªæœ‰ `String` é”®å’Œ `String` å€¼çš„å­—å…¸ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªå­—å…¸å­—é¢é‡çš„èµ‹å€¼æ˜¯ä¸€ç§æ–¹å¼ç”¨æ¥æ„é€ æ‹¥æœ‰ä¸¤ä¸ªåˆå§‹æ•°æ®é¡¹çš„ `airport` å­—å…¸ã€‚

å’Œæ•°ç»„ä¸€æ ·ï¼Œä½ åœ¨ç”¨å­—å…¸å­—é¢é‡æ„é€ å­—å…¸æ—¶ï¼Œå¦‚æœå®ƒçš„é”®å’Œå€¼éƒ½æœ‰å„è‡ªä¸€è‡´çš„ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¸å¿…å†™å‡ºå­—å…¸çš„ç±»å‹ã€‚
`airports` å­—å…¸ä¹Ÿå¯ä»¥ç”¨è¿™ç§ç®€çŸ­æ–¹å¼å®šä¹‰ï¼š

```swift
var airports = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

å› ä¸ºè¿™ä¸ªè¯­å¥ä¸­æ‰€æœ‰çš„é”®å’Œå€¼éƒ½å„è‡ªæ‹¥æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ï¼ŒSwift å¯ä»¥æ¨æ–­å‡º `[String: String]` æ˜¯ `airports` å­—å…¸çš„æ­£ç¡®ç±»å‹ã€‚

### è®¿é—®å’Œä¿®æ”¹å­—å…¸ {#accessing-and-modifying-a-dictionary}

ä½ å¯ä»¥é€šè¿‡å­—å…¸çš„æ–¹æ³•å’Œå±æ€§æ¥è®¿é—®å’Œä¿®æ”¹å­—å…¸ï¼Œæˆ–è€…é€šè¿‡ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ã€‚

å’Œæ•°ç»„ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ `Dictionary` çš„åªè¯»å±æ€§ `count` æ¥è·å–å­—å…¸çš„æ•°æ®é¡¹æ•°é‡ï¼š

```swift
print("The dictionary of airports contains \(airports.count) items.")
// æ‰“å°â€œThe dictionary of airports contains 2 items.â€ï¼ˆè¿™ä¸ªå­—å…¸æœ‰ä¸¤ä¸ªæ•°æ®é¡¹ï¼‰
```

ä½¿ç”¨å¸ƒå°”å±æ€§ `isEmpty` ä½œä¸ºä¸€ä¸ªç¼©å†™å½¢å¼å»æ£€æŸ¥ `count` å±æ€§æ˜¯å¦ä¸º `0`ï¼š

```swift
if airports.isEmpty {
    print("The airports dictionary is empty.")
} else {
    print("The airports dictionary is not empty.")
}
// æ‰“å°â€œThe airports dictionary is not empty.â€
```

ä½ å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•æ¥ç»™å­—å…¸æ·»åŠ æ–°çš„æ•°æ®é¡¹ã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ°å½“ç±»å‹çš„é”®ä½œä¸ºä¸‹æ ‡ç´¢å¼•ï¼Œå¹¶ä¸”åˆ†é…æ°å½“ç±»å‹çš„æ–°å€¼ï¼š

```swift
airports["LHR"] = "London"
// airports å­—å…¸ç°åœ¨æœ‰ä¸‰ä¸ªæ•°æ®é¡¹
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ”¹å˜ç‰¹å®šé”®å¯¹åº”çš„å€¼ï¼š

```swift
airports["LHR"] = "London Heathrow"
// â€œLHRâ€å¯¹åº”çš„å€¼è¢«æ”¹ä¸ºâ€œLondon Heathrowâ€
```

ä½œä¸ºä¸€ç§æ›¿ä»£ä¸‹æ ‡è¯­æ³•çš„æ–¹å¼ï¼Œå­—å…¸çš„ `updateValue(_:forKey:)` æ–¹æ³•å¯ä»¥è®¾ç½®æˆ–è€…æ›´æ–°ç‰¹å®šé”®å¯¹åº”çš„å€¼ã€‚å°±åƒä¸Šé¢æ‰€ç¤ºçš„ä¸‹æ ‡ç¤ºä¾‹ï¼Œ`updateValue(_:forKey:)` æ–¹æ³•åœ¨è¿™ä¸ªé”®ä¸å­˜åœ¨å¯¹åº”å€¼çš„æ—¶å€™ä¼šè®¾ç½®æ–°å€¼æˆ–è€…åœ¨å­˜åœ¨æ—¶æ›´æ–°å·²å­˜åœ¨çš„å€¼ã€‚å’Œä¸‹æ ‡çš„æ–¹å¼ä¸åŒï¼Œ`updateValue(_:forKey:)` è¿™ä¸ªæ–¹æ³•è¿”å›æ›´æ–°å€¼ä¹‹å‰çš„*åŸå€¼*ã€‚è¿™æ ·ä½¿å¾—ä½ å¯ä»¥æ£€æŸ¥æ›´æ–°æ˜¯å¦æˆåŠŸã€‚

`updateValue(_:forKey:)` æ–¹æ³•ä¼šè¿”å›å¯¹åº”å€¼ç±»å‹çš„å¯é€‰ç±»å‹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼šå¯¹äºå­˜å‚¨ `String` å€¼çš„å­—å…¸ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ª `String?` æˆ–è€…â€œå¯é€‰ `String`â€ç±»å‹çš„å€¼ã€‚å¦‚æœæœ‰å€¼å­˜åœ¨äºæ›´æ–°å‰ï¼Œåˆ™è¿™ä¸ªå¯é€‰å€¼åŒ…å«äº†æ—§å€¼ï¼Œå¦åˆ™å®ƒå°†ä¼šæ˜¯ `nil` ï¼š

```swift
if let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") {
    print("The old value for DUB was \(oldValue).")
}
// è¾“å‡ºâ€œThe old value for DUB was Dublin.â€
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥åœ¨å­—å…¸ä¸­æ£€ç´¢ç‰¹å®šé”®å¯¹åº”çš„å€¼ã€‚å› ä¸ºæœ‰å¯èƒ½è¯·æ±‚çš„é”®æ²¡æœ‰å¯¹åº”çš„å€¼å­˜åœ¨ï¼Œå­—å…¸çš„ä¸‹æ ‡è®¿é—®ä¼šè¿”å›å¯¹åº”å€¼ç±»å‹çš„å¯é€‰ç±»å‹ã€‚å¦‚æœè¿™ä¸ªå­—å…¸åŒ…å«è¯·æ±‚é”®æ‰€å¯¹åº”çš„å€¼ï¼Œä¸‹æ ‡ä¼šè¿”å›ä¸€ä¸ªåŒ…å«è¿™ä¸ªå­˜åœ¨å€¼çš„å¯é€‰ç±»å‹ï¼Œå¦åˆ™å°†è¿”å› `nil`ï¼š

```swift
if let airportName = airports["DUB"] {
    print("The name of the airport is \(airportName).")
} else {
    print("That airport is not in the airports dictionary.")
}
// æ‰“å°â€œThe name of the airport is Dublin Airport.â€
```

è¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•é€šè¿‡å°†æŸä¸ªé”®çš„å¯¹åº”å€¼èµ‹å€¼ä¸º `nil` æ¥ä»å­—å…¸é‡Œç§»é™¤ä¸€ä¸ªé”®å€¼å¯¹ï¼š

```swift
airports["APL"] = "Apple Internation"
// â€œApple Internationâ€ä¸æ˜¯çœŸçš„ APL æœºåœºï¼Œåˆ é™¤å®ƒ
airports["APL"] = nil
// APL ç°åœ¨è¢«ç§»é™¤äº†
```

æ­¤å¤–ï¼Œ`removeValue(forKey:)` æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥åœ¨å­—å…¸ä¸­ç§»é™¤é”®å€¼å¯¹ã€‚è¿™ä¸ªæ–¹æ³•åœ¨é”®å€¼å¯¹å­˜åœ¨çš„æƒ…å†µä¸‹ä¼šç§»é™¤è¯¥é”®å€¼å¯¹å¹¶ä¸”è¿”å›è¢«ç§»é™¤çš„å€¼æˆ–è€…åœ¨æ²¡æœ‰å¯¹åº”å€¼çš„æƒ…å†µä¸‹è¿”å› `nil`ï¼š

```swift
if let removedValue = airports.removeValue(forKey: "DUB") {
    print("The removed airport's name is \(removedValue).")
} else {
    print("The airports dictionary does not contain a value for DUB.")
}
// æ‰“å°â€œThe removed airport's name is Dublin Airport.â€
```

### å­—å…¸éå† {#iterating-over-a-dictionary}

ä½ å¯ä»¥ä½¿ç”¨ `for-in` å¾ªç¯æ¥éå†æŸä¸ªå­—å…¸ä¸­çš„é”®å€¼å¯¹ã€‚æ¯ä¸€ä¸ªå­—å…¸ä¸­çš„æ•°æ®é¡¹éƒ½ä»¥ `(key, value)` å…ƒç»„å½¢å¼è¿”å›ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡æ¥åˆ†è§£è¿™äº›å…ƒç»„ï¼š

```swift
for (airportCode, airportName) in airports {
    print("\(airportCode): \(airportName)")
}
// YYZ: Toronto Pearson
// LHR: London Heathrow
```

æ›´å¤šå…³äº `for-in` å¾ªç¯çš„ä¿¡æ¯ï¼Œå‚è§ [For å¾ªç¯](./05_Control_Flow.md#for-loops)ã€‚

é€šè¿‡è®¿é—® `keys` æˆ–è€… `values` å±æ€§ï¼Œä½ ä¹Ÿå¯ä»¥éå†å­—å…¸çš„é”®æˆ–è€…å€¼ï¼š

```swift
for airportCode in airports.keys {
    print("Airport code: \(airportCode)")
}
// Airport code: YYZ
// Airport code: LHR

for airportName in airports.values {
    print("Airport name: \(airportName)")
}
// Airport name: Toronto Pearson
// Airport name: London Heathrow
```

å¦‚æœä½ éœ€è¦ä½¿ç”¨æŸä¸ªå­—å…¸çš„é”®é›†åˆæˆ–è€…å€¼é›†åˆæ¥ä½œä¸ºæŸä¸ªæ¥å— `Array` å®ä¾‹çš„ API çš„å‚æ•°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `keys` æˆ–è€… `values` å±æ€§æ„é€ ä¸€ä¸ªæ–°æ•°ç»„ï¼š

```swift
let airportCodes = [String](airports.keys)
// airportCodes æ˜¯ ["YYZ", "LHR"]

let airportNames = [String](airports.values)
// airportNames æ˜¯ ["Toronto Pearson", "London Heathrow"]
```

Swift çš„ `Dictionary` æ˜¯æ— åºé›†åˆç±»å‹ã€‚ä¸ºäº†ä»¥ç‰¹å®šçš„é¡ºåºéå†å­—å…¸çš„é”®æˆ–å€¼ï¼Œå¯ä»¥å¯¹å­—å…¸çš„ `keys` æˆ– `values` å±æ€§ä½¿ç”¨ `sorted()` æ–¹æ³•ã€‚
